/*
 *  『麻雀 定石「何切る」301選』(ウザク本 赤)を解く
 *
 *  実行方法:
 *      LEGACY=0000 npm test dev/select_dapai.js
 */
"use strict";

const Majiang = require('@kobalab/majiang-core');
const assert  = require('assert');

function select_player() {
    const legacy = process.env.LEGACY || '';
    return new (legacy.match(/^\d{4}$/) ? require(`../legacy/player-${legacy}`)
                                        : require('../'))();
}

function select_dapai(paistr, zhuangfeng, menfeng, baopai) {

    const player = select_player();
    player.kaiju({ id:0, rule:Majiang.rule(), title:'', player:[], qijia:0 });

    let qipai = {
        zhuangfeng: zhuangfeng,
        jushu:      [0,3,2,1][menfeng],
        changbang:  0,
        lizhibang:  0,
        defen:      [25000,25000,25000,25000],
        baopai:     baopai,
        shoupai:    ['','','','']
    };
    qipai.shoupai[menfeng] = paistr;
    player.qipai(qipai);

    return player.select_gang() || player.select_dapai().substr(0,2);
}

const test_data = [

    ['Q-000', 'm123p1234789s338s8',  0, 0, 's3', 's3'],

    ['Q-001', 'm34567p2388s5779p1',  0, 2, 'p2', 's7'],
    ['Q-002', 'm34567p2388s5779p4',  0, 2, 'p2', 's9'],
    ['Q-003', 'm34567p2388s5779s7',  0, 2, 'p2', 's5'],
    ['Q-004', 'm678889p40579s33p8',  0, 0, 's9', 'p5'],
    ['Q-005', 'm678889p40579z11p8',  0, 0, 's9', 'm9'],
    ['Q-006', 'm33p223677888s40s6',  0, 2, 'm1', 'p2'],
    ['Q-007', 'm67p34556777s334p6',  0, 0, 'm6', 's4'],
    ['Q-008', 'm67p34556777s334p2',  0, 0, 'm6', 'p5'],
    ['Q-009', 'm112p223677888s0s6',  0, 2, 'p1', 'm2'],

    ['Q-010', 'm223067p557s2345s6',  0, 0, 'z3', 'p7'],
    ['Q-011', 'p223055677s2345s6',   0, 0, 'z3', 'p7'],
    ['Q-012', 'm556p13345678s22p3',  0, 0, 'p7', 'm5'],
    ['Q-013', 'm66p123334s334z77z7', 0, 0, 'z6', 'p3'],
    ['Q-014', 'm66p233345s223z77z7', 0, 0, 'z6', 's2'],
    ['Q-015', 'm66p233345s22388s8',  0, 0, 's7', 'p2'],
    ['Q-016', 'm778p222344s3067s2',  0, 0, 's9', 'p4'],
    ['Q-017', 'm778p222344s3067s3',  0, 0, 's9', 'm7'],
    ['Q-018', 'm345p233444s0667m4',  0, 0, 's9', 'p3'],
    ['Q-019', 'm345688p0667s456s6',  0, 0, 'z3', 's6'],
    ['Q-020', 'm3445p335678s567s8',  0, 0, 'z3', 'p8'],
    ['Q-021', 'm3445p335678s234s5',  0, 0, 'z3', 's2'],
    ['Q-022', 'm3405999p556s567s8',  0, 2, 'z3', 'm5'],
    ['Q-023', 'm44789p0678s4066m0',  0, 2, 'z3', 's6'],
    ['Q-024', 'm344067p3456s406s3',  0, 2, 'z3', 's6'],
    ['Q-025', 'm5678p3456s78899s9',  0, 0, 'z3', 's8'],
    ['Q-026', 'm5678p1234s67788s8',  0, 0, 'z3', 'p1'],
    ['Q-027', 'm5678p2345s56677s7',  0, 0, 'z3', 'm8'],
    ['Q-028', 'm678p2344s233567s8',  0, 2, 'z3', 's2'],
    ['Q-029', 'm789p1123s233567s8',  0, 2, 'z3', 'p1'],
    ['Q-030', 'm789p1123s235677s8',  0, 2, 'z3', 'p1'],

    ['Q-031', 'm5678p224567s677s7',  0, 0, 'z3', 'm8'],
    ['Q-032', 'm5678p224567s777s8',  0, 0, 'z3', 's8'],
    ['Q-033', 'm4567p335678s688s8',  0, 0, 'z3', 'p8'],
    ['Q-034', 'm7799p2340s234z77p6', 0, 0, 'm1', 'm7'],
    ['Q-035', 'm7799p2340s23477p6',  0, 0, 'm1', 'm9'],
    ['Q-036', 'm7799p23406s2347p6',  0, 0, 'm1', 's7'],
    ['Q-037', 'p45556s23444788p4',   0, 0, 's1', 'p5'],
    ['Q-038', 'm3456p3344688s22m0',  0, 0, 'm9', 'p6'],
    ['Q-039', 'm3467p3456688s22m0',  0, 0, 'm9', 'p6'],
    ['Q-040', 'm2345p2335s23488s8',  0, 2, 's7', 'p5'],
    ['Q-041', 'm3445p2335s23488s8',  0, 2, 's7', 'p2'],
    ['Q-042', 'm406p233s2233345s0',  0, 0, 'm3', 's5'],
    ['Q-043', 'p34557s33444566p0',   0, 0, 'p6', 'p7'],
    ['Q-044', 'p34557s22444566p0',   0, 0, 'p6', 'p7'],
    ['Q-045', 'm0556p22307s6888p4',  0, 0, 's5', 'm6'],
    ['Q-046', 'm5567p2233s56677p4',  0, 2, 'm1', 'm5'],
    ['Q-047', 'm13067p23467s456m6',  0, 2, 's3', 'm1'],
    ['Q-048', 'm067p234667s4566m6',  0, 2, 's3', 'p7'],
    ['Q-049', 'm06789p346667s23s4',  0, 2, 's8', 'm9'],
    ['Q-050', 'm45668p446s34599m3',  0, 2, 's3', 's9'],
    ['Q-051', 'm45668p446s345z11m3', 0, 2, 's3', 'm8'],
    ['Q-052', 'm577p23467s34577m4',  0, 2, 's1', 's7'],
    ['Q-053', 'm577p234s2367888m4',  0, 2, 's1', 'm7'],
    ['Q-054', 'm577p23467s23477s2',  0, 2, 's1', 's2'],
    ['Q-055', 'm6667p34s3345578s7',  0, 2, 'p3', 's8'],
    ['Q-056', 'm6667p34s3345578s8',  0, 2, 'p3', 'm7'],
    ['Q-057', 'm6667p34s3345578s9',  0, 2, 'p3', 's3'],
    ['Q-058', 'm67p334568s34079p3',  0, 2, 'z3', 's9'],
    ['Q-059', 'm34p134568s34079p3',  0, 2, 'z3', 'p1'],
    ['Q-060', 'm06p134568s34567p3',  0, 2, 'z3', 'p8'],

    ['Q-061', 'm4489p34779s2346m7',  0, 0, 's1', 's6'],
    ['Q-062', 'm4489p34779s2346p7',  0, 0, 's1', 'p9'],
    ['Q-063', 'm4489p34779s2346s7',  0, 0, 's1', 'm9'],
    ['Q-064', 'm4556799p3499s45s6',  0, 0, 'z3', 'm9'],
    ['Q-065', 'm455679p3357s456s6',  0, 0, 'z3', 'm9'],
    ['Q-066', 'm455679p33468s56s6',  0, 0, 'z3', 'm9'],
    ['Q-067', 'm6799p23s3446789m9',  0, 0, 's5', 's9'],
    ['Q-068', 'm23p1566679s1237s8',  0, 0, 'm2', 'p1'],
    ['Q-069', 'm46777p668s34455m3',  0, 0, 's9', 'm6'],
    ['Q-070', 'm67p23456799s113s4',  0, 2, 'm1', 'p9'],
    ['Q-071', 'm67p12345677s220m5',  0, 2, 'm1', 'p7'],
    ['Q-072', 'm77p12345688s224s0',  0, 2, 'm1', 's2'],
    ['Q-073', 'm456p223789s5778s8',  0, 0, 'm3', 's5'],
    ['Q-074', 'm456p223789s0889s9',  0, 0, 'm3', 'p2'],
    ['Q-075', 'm456p223789s0788s9',  0, 0, 'm3', 's8'],
    ['Q-076', 'm789p57789s23406p4',  0, 2, 'p1', 'p7'],
    ['Q-077', 'm678p07789s45678p4',  0, 2, 'p1', 'p8'],
    ['Q-078', 'p13345668s77788s9',   0, 0, 'm9', 's7'],
    ['Q-079', 'm347889p77889s23s4',  0, 2, 's3', 'm7'],
    ['Q-080', 'm347889p66778s23s4',  0, 2, 's3', 'm7'],
    ['Q-081', 'm347889p66778s44s4',  0, 2, 's3', 'm8'],
    ['Q-082', 'm67p34678s112356s7',  0, 2, 's6', 's1'],
    ['Q-083', 'm68p34678s112356s7',  0, 2, 's6', 'm8'],
    ['Q-084', 'm68p56678s112356s7',  0, 2, 's6', 'm8'],
    ['Q-085', 'm12345678p67s6667s',  0, 2, 'p6', 'm1'],
    ['Q-086', 'm12345678p67s666m3',  0, 2, 'p6', 's6'],
    ['Q-087', 'm12345678p67s666s6',  0, 2, 'p6', 's6'],
    ['Q-088', 'm333678p67s34567m3',  0, 0, 'm5', 'm3'],
    ['Q-089', 'm33367p67s666789m3',  0, 0, 'p5', 'm3333'],
    ['Q-090', 'm333678p38s66789m3',  0, 0, 's5', 'p8'],

    ['Q-091', 'm23466p112345s67p7',  0, 2, 'm5', 'p7'],
    ['Q-092', 'm23466p123457s67p7',  0, 2, 'm5', 'p1'],
    ['Q-093', 'p456788s3477p0,p222=',0, 1, 's6', 'p8'],
    ['Q-094', 'm4455678p445s345m7',  0, 0, 'm7', 'p4'],
    ['Q-095', 'm33445667p788s34s0',  0, 0, 'm1', 'p7'],
    ['Q-096', 'm22788p4567788s0s6',  0, 0, 's9', 'p7'],
    ['Q-097', 'p566789s3445667s7',   0, 2, 's2', 'p9'],
    ['Q-098', 'm23467p0s4056777s8',  0, 2, 'z3', 's5'],
    ['Q-099', 'm77p234556778s67p4',  0, 2, 'm4', 'p7'],
    ['Q-100', 'm335p23345667s23m4',  0, 2, 's2', 'm3'],
    ['Q-101', 'm335p23345667s23m6',  0, 2, 's2', 'p6'],
    ['Q-102', 'm335p233345667s4s0',  0, 2, 's2', 'm5'],
    ['Q-103', 'm45p22s345667899p3',  0, 2, 'm4', 's9'],
    ['Q-104', 'm45p22s345667899p4',  0, 2, 'p4', 's9'],
    ['Q-105', 'm56p34s112234456s7',  0, 2, 'z3', 's1'],
    ['Q-106', 'm23456p3406s24z22z2', 0, 2, 'm8', 's2'],
    ['Q-107', 'm67p2468s3335567p3',  0, 2, 'z3', 'p8'],
    ['Q-108', 'm67p1234s2466678s9',  0, 2, 'p2', 'p1'],
    ['Q-109', 'p2345579s222478p0',   0, 0, 'm9', 's4'],
    ['Q-110', 'p2345579s237888p0',   0, 0, 'm9', 'p9'],
    ['Q-111', 'm340p12233379s67p5',  0, 0, 'p8', 'p1'],
    ['Q-112', 'm68p1124056s34z77z7', 0, 0, 'm9', 'p2'],
    ['Q-113', 'm68p1124406s34z77m7', 0, 0, 'm9', 'p4'],
    ['Q-114', 'm68p1124456s34z77s3', 0, 0, 'm9', 'm8'],
    ['Q-115', 'm57p225667s13367s8',  0, 0, 's6', 's1'],
    ['Q-116', 'm57p225667s13367s5',  0, 0, 's6', 'p6'],
    ['Q-117', 'm57p22566s123367s8',  0, 0, 'p1', 'p6'],
    ['Q-118', 'm057p24677s12346s5',  0, 1, 's5', 'm7'],
    ['Q-119', 'm057p24677s12346p6',  0, 1, 's5', 's1'],
    ['Q-120', 'm067p13s22334557p3',  0, 0, 'm7', 'p1'],

    ['Q-121', 'm233345p68s23446p6',  0, 2, 'z3', 'p8'],
    ['Q-122', 'm344456p46s23446s6',  0, 2, 'z3', 's4'],
    ['Q-123', 'm788p234677s7789s9',  0, 2, 'm1', 'p7'],
    ['Q-124', 'm34068p2246s67z44m4', 0, 0, 's9', 'z4'],
    ['Q-125', 'm34068p2246s67z44z4', 0, 0, 's9', 'p6'],
    ['Q-126', 'm34068p2246s67z44p3', 0, 0, 's9', 'p2'],
    ['Q-127', 'm3456p2268s12366s7',  0, 2, 'm3', 's6'],
    ['Q-128', 'm3456p2268s12366s8',  0, 2, 'm3', 'p8'],
    ['Q-129', 'm234p4588s334456s8',  0, 2, 'z3', 's8'],
    ['Q-130', 'm44556p135s230z11m3', 0, 0, 'm9', 's2'],
    ['Q-131', 'm23p122307s45567s8',  0, 2, 'z3', 'p2'],
    ['Q-132', 'm23p122307s45567s9',  0, 2, 'z3', 's9'],
    ['Q-133', 'p456677s3077s8,z111=',0, 0, 'p4', 'p6'],
    ['Q-134', 'm23479p1168s5678s9',  0, 0, 's6', 'p8'],
    ['Q-135', 'm23479p1157s4067s8',  0, 0, 's4', 'p5'],
    ['Q-136', 'm224468p5567s234m3',  0, 2, 's1', 'm8'],
    ['Q-137', 'm224468p5567s234p3',  0, 2, 's1', 'm8'],
    ['Q-138', 'm23345p2357s2340m6',  0, 2, 'p5', 's2'],
    ['Q-139', 'm246p234677s2288s2',  0, 0, 'z3', 'p7'],
    ['Q-140', 'm246p234788s3488s2',  0, 0, 'z3', 'm6'],
    ['Q-141', 'm24688p2466s2267s2',  0, 0, 'z3', 'p2'],
    ['Q-142', 'm78p1114099s2246m9',  0, 2, 'm9', 's6'],
    ['Q-143', 'm78p2344599s2246m9',  0, 2, 'm9', 's2'],
    ['Q-144', 'm78p2344599s2256m6',  0, 2, 'm9', 'p9'],
    ['Q-145', 'm34p467889s12306s7',  0, 2, 'z3', 'p4'],
    ['Q-146', 'm113p467889s2306s7',  0, 2, 'z3', 'm3'],
    ['Q-147', 'm1134p46789s2406s7',  0, 2, 'z3', 'p9'],
    ['Q-148', 'm12267889p45s355s0',  0, 2, 'p7', 'm1'],
    ['Q-149', 'm334p13556s67889p2',  0, 0, 'z3', 'm3'],
    ['Q-150', 'm34p136667s67889p2',  0, 0, 'z3', 's9'],

    ['Q-151', 'p12367s566789z77s6',  0, 0, 'm9', 's5'],
    ['Q-152', 'p12367s566789z77p8',  0, 0, 'm9', 's5'],
    ['Q-153', 'p12367s566789z77s8',  0, 0, 'm9', 's9'],
    ['Q-154', 'm30p136667s778z77m4', 0, 0, 'm9', 'p7'],
    ['Q-155', 'm3p1356667s778z77m4', 0, 0, 'm9', 'p1'],
    ['Q-156', 'm30p356667s778z77m4', 0, 0, 'm9', 's7'],
    ['Q-157', 'm4566p34s23399z77m7', 0, 0, 'm5', 's9'],
    ['Q-158', 'm4566p34s23388z77m7', 0, 2, 'm5', 'z7'],
    ['Q-159', 'm06p2345566s24z77m7', 0, 2, 'm9', 's2'],
    ['Q-160', 'm46p56s4566777z77p4', 0, 2, 'p9', 's6'],
    ['Q-161', 'm46p56s4566777z77p0', 0, 2, 'p9', 's6'],
    ['Q-162', 'm06p3456677z6677m7',  0, 2, 'p9', 'p6'],
    ['Q-163', 'm2340p055s2379z77p6', 0, 1, 'm1', 'p6'],
    ['Q-164', 'm057p224678s35z77p7', 0, 1, 'p1', 'p4'],
    ['Q-165', 'm567899p799s56z22p6', 0, 1, 's2', 'p9'],
    ['Q-166', 'm456p224s23488z44s3', 0, 2, 'm3', 'z4'],
    ['Q-167', 'm456p334s23488z44s3', 0, 2, 'm3', 'p3'],
    ['Q-168', 'm45p3578s23466z44p3', 0, 2, 'm3', 'z4'],
    ['Q-169', 'm34578p56s1233,z777=',0, 1, 'z6', 's2'],
    ['Q-170', 'm56778p06s1233,z777=',0, 1, 'z6', 's3'],
    ['Q-171', 'm5678p557s1233,z777=',0, 1, 'z6', 'p7'],
    ['Q-172', 'p1358s456778p4,z777=',0, 1, 'z6', 'p8'],
    ['Q-173', 'm79p7s1224566m8,z222=',0,1, 'z1', 's1'],
    ['Q-174', 'p22389s11345p3,z111=',0, 0, 's4', 'p8'],
    ['Q-175', 'm456p2333456s230s6',  0, 0, 'm3', 's2'],
    ['Q-176', 'm2446p23457s2345s7',  0, 0, 'z3', 'm6'],
    ['Q-177', 'm2446p24567s2346s7',  0, 0, 'z3', 'm2'],
    ['Q-178', 'm79p2345778s6678m8',  0, 2, 'm9', 'p2'],
    ['Q-179', 'm5778p22256s2245s7',  0, 0, 'p6', 'm5'],
    ['Q-180', 'm5778p23357s3456p6',  0, 0, 'p6', 'p2'],

    ['Q-181', 'm78p246789s05578s9',  0, 2, 's9', 'p2'],
    ['Q-182', 'm12346p246789s24p8',  0, 2, 's1', 'm1'],
    ['Q-183', 'm78p556779s35577s8',  0, 0, 'm7', 's3'],
    ['Q-184', 'm3057p3355s34567s8',  0, 2, 'z3', 'm7'],
    ['Q-185', 'm3057p3355s34567p7',  0, 2, 'z3', 'm3'],
    ['Q-186', 'm340p3577s223456p3',  0, 0, 'm9', 's2'],
    ['Q-187', 'm344p35567s34406s7',  0, 2, 's9', 's4'],
    ['Q-188', 'm355p35567s34406s7',  0, 2, 's9', 'm3'],
    ['Q-189', 'm357p35567s34456s7',  0, 2, 's9', 'm3'],
    ['Q-190', 'm34567p0577s3466p3',  0, 2, 'z3', 'p7'],
    ['Q-191', 'm23556688p12s123m7',  0, 2, 's2', 'p2'],
    ['Q-192', 'm5678p445678s307p7',  0, 2, 'z3', 'm8'],
    ['Q-193', 'm3334578p779s799m6',  0, 2, 'm2', 'p9'],
    ['Q-194', 'm3334578p779s799m9',  0, 2, 'p2', 'p7'],
    ['Q-195', 'm356789p577s3346p4',  0, 0, 'p9', 's6'],
    ['Q-196', 'm79p899s23466789s0',  0, 0, 'p2', 'p8'],
    ['Q-197', 'm8p1306778s22678p4',  0, 0, 'z3', 'p1'],
    ['Q-198', 'm3467p1245679s22m0',  0, 0, 'z3', 'p1'],
    ['Q-199', 'm66p123440679s33s4',  0, 0, 'm1', 's3'],
    ['Q-200', 'm66p123440679s44s6',  0, 0, 'm1', 'p4'],
    ['Q-201', 'm68p12306899s113s4',  0, 0, 'm1', 'm8'],
    ['Q-202', 'm4p234567889s578s9',  0, 0, 'p8', 'p8'],
    ['Q-203', 'p307s2334567899p3',   0, 2, 'p4', 's9'],
    ['Q-204', 'p307s2334567899s6',   0, 2, 'p4', 's3'],
    ['Q-205', 'm1234578p1155s67m5',  0, 2, 's6', 'p1'],
    ['Q-206', 'm78p2345689s2305p7',  0, 2, 'm1', 's2'],
    ['Q-207', 'p446s12345679z22p7',  0, 2, 's2', 'z2'],
    ['Q-208', 'm11357p230679s79m4',  0, 0, 'z3', 'p9'],
    ['Q-209', 'm11357p230679s79p9',  0, 0, 'z3', 's9'],
    ['Q-210', 'm0p22345789s2446p1',  0, 0, 'm4', 's2'],

    ['Q-211', 'p1223s3346699z77p3',  0, 0, 's2', 's4'],
    ['Q-212', 'p2334s3346799z77p0',  0, 0, 's2', 's9'],
    ['Q-213', 'p2334s3346899z77p4',  0, 0, 's2', 's6'],
    ['Q-214', 'm34558899p89s33z3m3', 0, 0, 'm2', 'p8'],
    ['Q-215', 'm23447788p89s33z3m3', 0, 2, 'm8', 'z3'],
    ['Q-216', 'm3340p4s22405699p4',  0, 0, 'p1', 's9'],
    ['Q-217', 'p2306999s666789p4',   0, 2, 'p9', 'p9'],
    ['Q-218', 'p4057999s666678p6',   0, 2, 'p9', 'p5'],
    ['Q-219', 'p45s23345566677p6',   0, 2, 'p9', 's2'],
    ['Q-220', 'm456p2233s230667s4',  0, 2, 'm9', 's6'],
    ['Q-221', 'm345p0s234056799s9',  0, 2, 'm7', 'p0'],
    ['Q-222', 'm34456789p56s456m2',  0, 2, 's9', 'm9'],
    ['Q-223', 'm33p334568s406,z777=',0, 2, 's5', 'p8'],
    ['Q-224', 'm44p445679s06z777s7', 0, 2, 's1', 'p4'],
    ['Q-225', 'm11p23344s307999p0',  0, 0, 'p3', 's7'],
    ['Q-226', 'm66789p4478s3567p6',  0, 2, 's9', 'm9'],
    ['Q-227', 'm66789p4478s2456p9',  0, 2, 's9', 's2'],
    ['Q-228', 'p123357s2345789p3',   0, 2, 'z6', 'p5'],
    ['Q-229', 'm230p45679s12366m4',  0, 2, 's9', 'p9'],
    ['Q-230', 'm230p45679s12366m1',  0, 2, 's9', 'p9'],
    ['Q-231', 'm23456p12067s567m3',  0, 2, 'p9', 'm2'],
    ['Q-232', 'm334788p34678s13s0',  0, 2, 'p1', 's1'],
    ['Q-233', 'm24p3406s1113579m2',  0, 2, 's3', 's9'],
    ['Q-234', 'm57788p07s123455p3',  0, 2, 'm6', 'm5'],
    ['Q-235', 'm34468p113688s67m7',  0, 2, 'z2', 'm4'],
    ['Q-236', 'm3467p1368s667z77m5', 0, 0, 'm2', 'p1'],
    ['Q-237', 'm3467p1368s667z77s8', 0, 0, 'm2', 'p1'],
    ['Q-238', 'm23477p4668s2307s8',  0, 2, 'p1', 'p8'],
    ['Q-239', 'm3388p3566s23077m6',  0, 0, 'p4', 'p3'],
    ['Q-240', 'm234p27778s22468s8',  0, 2, 'm9', 'p8'],

    ['Q-241', 'm066778p1246s678s5',  0, 0, 'p9', 'p1'],
    ['Q-242', 'm066778p1246s678s9',  0, 0, 'p9', 's9'],
    ['Q-243', 'm440678899p45s67m7',  0, 0, 'p9', 'm4'],
    ['Q-244', 'm33456p1267s79z77p8', 0, 2, 's6', 'p2'],
    ['Q-245', 'm33456p1267s1377p8',  0, 2, 's6', 'p1'],
    ['Q-246', 'm33499p566s34589p7',  0, 2, 'm2', 's9'],
    ['Q-247', 'm456p23467s11288m7',  0, 0, 'p6', 's1'],
    ['Q-248', 'm456p23467s11266m7',  0, 0, 'p6', 's2'],
    ['Q-249', 'm468p055667s1288p4',  0, 2, 'p2', 's1'],
    ['Q-250', 'm0679p3457s11678s9',  0, 0, 'z3', 'm9'],
    ['Q-251', 'm0679p3457s11267s9',  0, 0, 'z3', 's9'],
    ['Q-252', 'm0679p3457s11167s9',  0, 0, 'z3', 'm9'],
    ['Q-253', 'm167p15s579z44777s6', 0, 0, 'z3', 'm1'],
    ['Q-254', 'm1566p25s57z44777s6', 0, 0, 'z3', 'm1'],
    ['Q-255', 'm455p26s278z44777s6', 0, 0, 'z3', 'p2'],
    ['Q-256', 'm2340p4568s12366s8',  0, 0, 'z3', 's8'],
    ['Q-257', 'm2340p4568s12366s2',  0, 0, 'z3', 's2'],
    ['Q-258', 'm2340p4568s12366s4',  0, 0, 'z3', 's1'],
    ['Q-259', 'm22237p3788s2346s6',  0, 0, 'p1', 'm3'],
    ['Q-260', 'm22237p3788s2346s7',  0, 0, 'p1', 'm7'],
    ['Q-261', 'm1147p44678s3789p9',  0, 0, 'p2', 'm4'],
    ['Q-262', 'm399p234s2223z777p3', 0, 2, 'z6', 'm3'],
    ['Q-263', 'm399p234s2223999p3',  0, 2, 's8', 's3'],
    ['Q-264', 'm24457p11356s368p2',  0, 0, 's6', 'p1'],
    ['Q-265', 'm24678p24088s279p6',  0, 0, 'z3', 's2'],
    ['Q-266', 'm24678p24099s279s3',  0, 0, 'z3', 'p2'],
    ['Q-267', 'm24678p24079s279m3',  0, 0, 'z3', 's2'],
    ['Q-268', 'm34667p3468s1389p7',  0, 2, 'm1', 's9'],
    ['Q-269', 'm34667p3468s1389m8',  0, 2, 'm1', 's9'],
    ['Q-270', 'm34667p3468s1399m8',  0, 2, 'm1', 'm6'],

    ['Q-271', 'm35p2346677s5688m4',  0, 2, 'm3', 'p6'],
    ['Q-272', 'm35p1237788s4688m4',  0, 2, 'm2', 's4'],
    ['Q-273', 'm357p1237788s668m4',  0, 2, 'm1', 's8'],
    ['Q-274', 'm23677p1168s1230s7',  0, 2, 's4', 'p8'],
    ['Q-275', 'm23677p67s123088s7',  0, 2, 's4', 'm3'],
    ['Q-276', 'm45p1156799s5678s8',  0, 0, 's5', 'p1'],
    ['Q-277', 'm3488p2367s56778s8',  0, 0, 'm3', 'p3'],
    ['Q-278', 'm2468p3499s34677m7',  0, 0, 'p3', 'p9'],
    ['Q-279', 'm2468p2399s23677m3',  0, 0, 'p2', 'm8'],
    ['Q-280', 'm3478p34406s3357s7',  0, 0, 'p9', 'm7'],
    ['Q-281', 'm235667p34467s05m6',  0, 1, 'm5', 'm2'],
    ['Q-282', 'm2367p3444s23467m5',  0, 2, 'z3', 'm3'],
    ['Q-283', 'm23346p4566s3566s7',  0, 0, 'z3', 's3'],
    ['Q-284', 'm3445668p3346s56p7',  0, 0, 'z3', 'm8'],
    ['Q-285', 'm3445668p2235s78p6',  0, 0, 'z3', 'p3'],
    ['Q-286', 'm30778p348999s34m6',  0, 0, 'm9', 'p8'],
    ['Q-287', 'm07p999s136899z11m6', 0, 0, 'm9', 's6'],
    ['Q-288', 'm7p34999s46899z11m6', 0, 0, 'm9', 's4'],
    ['Q-289', 'm22366p13456s246s8',  0, 0, 'm5', 'p1'],
    ['Q-290', 'm22366p13456s130s7',  0, 0, 'm5', 's1'],
    ['Q-291', 'm22366p12346s135s7',  0, 0, 'm5', 'm2'],
    ['Q-292', 'm135889p357s4567p6',  0, 2, 's2', 'm9'],
    ['Q-293', 'm34589p3567s3466m4',  0, 2, 's2', 'm9'],
    ['Q-294', 'm589p2345s223678m9',  0, 0, 'm8', 'm8'],
    ['Q-295', 'm222556p556s2367s7',  0, 2, 'p1', 'm6'],
    ['Q-296', 'm222556p556s4788s8',  0, 2, 'p1', 's7'],
    ['Q-297', 'm2377p134566s120s7',  0, 0, 'z3', 's2'],
    ['Q-298', 'm06p13446679s579p1',  0, 2, 's6', 'p9'],
    ['Q-299', 'm11168p45668s234s0',  0, 0, 's1', 'm8'],
    ['Q-300', 'p12377s33067799s4',   0, 0, 'z3', 's3'],

    ['Q-301', 'p123779s3306779s4',   0, 0, 'z3', 'p9']
];

suite('麻雀 定石「何切る」301選', function(){
    for (let t of test_data) {
        test(`${t[0]}: ${t[1]}/${t[2]}/${t[3]}/${t[4]}`, function(){
            assert.equal(select_dapai(...t.slice(1,5)), t[5]);
        });
    }
});
